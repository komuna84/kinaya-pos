/* =================== BASE =================== */
* { box-sizing: border-box; margin: 0; padding: 0; font-family: "Roboto", sans-serif; }
html, body { height: 100%; }
body {
  background: #121212; color: #fff; display: flex; flex-direction: column;
}

/* =================== HEADER =================== */
header {
  background: rgba(255,255,255,0.1);
  color: #BFD8C1;
  text-align: center;
  font-size: 1.2rem;
  padding: 16px 0 14px;
  backdrop-filter: blur(4px);
  text-shadow:
    0 0 8px rgba(191,216,193,0.3),
    0 0 12px rgba(167,225,238,0.7),
    0 0 24px rgba(167,225,238,0.4);
  position: sticky; top: 0; z-index: 100;
}
header h1 {
  font-family: "Audiowide", cursive;
  font-size: 2rem; line-height: 1.3; letter-spacing: 1px;
  text-shadow:
    0 0 12px rgba(167,225,238,0.9),
    0 0 25px rgba(167,225,238,0.4);
}

/* =================== MAIN LAYOUT =================== */
main { flex-grow: 1; display: flex; flex-direction: row; margin-top: 10px; height: 92%; }

/* =================== ORDER / RECEIPT =================== */
.order {
  background: #fff; color: #000;
  width: 600px; min-width: 540px; max-width: 35%;
  border: 2px solid #333; box-shadow: 0 0 15px rgba(255,255,255,0.15);
  display: flex; flex-direction: column; overflow: hidden; z-index: 2;
}
.company-info { text-align: center; margin: 10px 0; }
#company-name { font-size: 1.6rem; font-weight: 600; }
#company-email { font-size: 1rem; color: #444; }

.receipt {
  border: .5px solid #444; margin: 10px 15px; box-shadow: 3px 3px 2px rgb(3,3,3);
  flex-grow: 1; overflow-y: auto; background: #fff; color: #000;
}
table { width: 100%; border-collapse: collapse; font-size: 1.05rem; }
th, td { padding: 5px 6px; border-bottom: 1px dotted #ccc; }
.quantity, .price, .subtotal, .delete { text-align: right; }

/* Receipt summary inputs */
#summary-section td { vertical-align: middle; padding: 4px 8px; }
#summary-section tr td:first-child { text-align: left; padding-left: 8px; }
#summary-section tr td:last-child { text-align: right; width: 100px; padding-right: 8px; }
#amount-paid-input {
  appearance: none; -moz-appearance: textfield; -webkit-appearance: none;
  background: transparent; border: none; text-align: right; font-size: 1rem;
  color: #000; width: 90px; line-height: 1.4; outline: none;
}
#amount-paid-input::-webkit-inner-spin-button,
#amount-paid-input::-webkit-outer-spin-button { -webkit-appearance: none; margin: 0; }
#amount-paid-input::placeholder { color: #777; }
#amount-paid-input:focus { border-bottom: 1px dotted #aaa; background: transparent; }
#change-amount, #payment-type { text-align: right; display: inline-block; width: 90px; }
#grandtotal-summary { font-weight: 700; }
#split-info { text-align: right; color: #000; font-size: .95rem; font-style: italic; opacity: .85; width: 100px; }

/* Footer */
.receipt-footer { padding-top: 12px; text-align: center; font-size: 1.1rem; border-top: 2px dotted #ccc; }

/* =================== TOOLBAR =================== */
.toolbar {
  margin: 15px auto; padding: 15px 0;
  border-top: 1px dotted #ccc; border-bottom: 1px dotted #ccc;
  display: flex; justify-content: space-around; align-items: center; gap: 40px;
}
.toolbar-btn {
  background: none; border: none; color: #A7E1EE; font-size: 1.5em; cursor: pointer;
  transition: transform .2s, color .2s;
}
.toolbar-btn:hover { transform: scale(1.2); color: #fff; }

/* Return button */
#toggle-return {
  background: none; border: none; cursor: pointer; color: inherit;
  display: flex; align-items: center; justify-content: center; transition: all .25s ease;
}
#toggle-return:hover { transform: scale(1.15); }
#toggle-return.active { color: #e63946; transform: rotate(-180deg); }
#toggle-return.active i { color: #d9534f; transform: scale(1.2); }

/* Delete cell */
.delete { cursor: pointer; color: #bbb; text-align: center; transition: color .25s ease, transform .25s ease; }
.delete i { font-size: 1.4rem; }
.delete:hover { color: #ff5c5c; transform: scale(1.2); }

/* =================== MENU / PRODUCTS =================== */
.menu-payment {
  background: rgba(255,255,255,0.05);
  flex-grow: 1; display: flex; flex-direction: column;
  padding: 15px; border: .5px solid #333; border-radius: 10px;
  margin: 0 10px 5px 10px; height: calc(100% - 10px);
  position: relative; overflow: hidden; z-index: 1;
}

/* --- Desktop & tablet: horizontal swipe row --- */
#menu {
  display: flex;
  flex-direction: row;
  flex-wrap: nowrap;           /* single row */
  align-items: flex-start;
  gap: 18px;
  width: 100%;                 /* IMPORTANT: do not use max-content */
  max-width: 100%;
  overflow-x: auto;            /* swipe */
  overflow-y: hidden;
  padding: 10px;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  touch-action: pan-x;
}
#menu::-webkit-scrollbar { height: 6px; }
#menu::-webkit-scrollbar-thumb { background: rgba(167,225,238,0.4); border-radius: 3px; }

/* right fade */
.menu-payment::after {
  content: ""; position: absolute; right: 0; top: 0; width: 40px; height: 100%;
  background: linear-gradient(to left, rgba(18,18,18,1), transparent); pointer-events: none;
}

/* Product card */
.menu-item {
  flex: 0 0 auto;               /* donâ€™t wrap/shrink */
  width: 220px; border-radius: 14px; text-align: center;
  background: rgba(255,255,255,0.07);
  padding: 10px;
  transition: transform .2s ease, box-shadow .3s ease;
  scroll-snap-align: start;
}
.menu-item:hover { transform: scale(1.05); box-shadow: 0 0 15px rgba(167,225,238,0.3); }
.menu-image {
  width: 100%; aspect-ratio: 1 / 1; object-fit: cover;
  border-radius: 10px; margin-bottom: 8px; background: #222;
}
figcaption { color: #fff; text-align: center; font-size: 1.05rem; }
.menu-item figcaption:first-of-type { font-weight: bold; margin-top: 5px; }
.menu-item figcaption:last-of-type { font-size: 1rem; color: #a7e1ee; }

/* =================== PAYMENT OVERLAY / PAYPAD =================== */
#payment-overlay {
  display: none; position: fixed; inset: 0;
  background: rgba(0,0,0,0.85); backdrop-filter: blur(4px);
  z-index: 1000; justify-content: center; align-items: center;
  transition: opacity .3s ease; opacity: 0; pointer-events: none;
}
#payment-overlay.active { display: flex; opacity: 1; pointer-events: all; }
.paypad {
  display: grid; grid-template-columns: repeat(3, 110px); grid-template-rows: auto repeat(4, 110px);
  justify-content: center; align-items: center; gap: 10px;
  background: #111; border-radius: 12px; padding: 20px; box-shadow: 0 0 25px rgba(167,225,238,0.4);
  position: relative;
}
.paypad-display {
  grid-column: span 3; text-align: center; font-size: 2rem; color: #A7E1EE;
  margin-bottom: 10px; font-weight: bold; border-bottom: 1px solid #333; padding-bottom: 8px;
}
.paypad-btn { background: #000; color: #A7E1EE; border: 1px solid #444; transition: background .2s ease, color .2s ease; }
.paypad-btn:hover { background: #1b1b1b; color: #66d0ff; }
.paypad-btn.number { font-size: 2rem; }
.paypad-btn.span3-col {
  grid-column: span 3; background: #A7E1EE; color: #111; font-weight: bold; border: none; border-radius: 10px; font-size: 1.4rem;
}
.paypad-btn.span3-col:hover { background: #7fd7e6; }
.close-paypad { position: absolute; top: 20px; right: 25px; cursor: pointer; }
.close-icon { color: #fff; font-size: 2.5rem; transition: transform .2s ease, color .2s ease; }
.close-icon:hover { transform: scale(1.2); color: #A7E1EE; }

/* =================== MODAL =================== */
.modal.hidden { display: none; }
.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.7); display: grid; place-items: center; z-index: 2000; }
.modal-content {
  background: #111; border-radius: 12px; padding: 30px 40px; text-align: center; color: #A7E1EE; font-size: 1.2rem;
  box-shadow: 0 0 20px rgba(167,225,238,0.4);
}
.modal-buttons { margin-top: 20px; display: flex; justify-content: center; gap: 20px; }
.modal-buttons button {
  background: #000; color: #A7E1EE; border: 1px solid #444; padding: 10px 20px; border-radius: 6px; font-size: 1rem;
  cursor: pointer; transition: background .2s ease, color .2s ease;
}
.modal-buttons button:hover { background: #1b1b1b; color: #66d0ff; }

/* =================== RESPONSIVE =================== */

/* Mobile & small tablets: make products a clean vertical list */
@media (max-width: 768px) {
  header {
    text-align: center;
    padding-top: max(18px, env(safe-area-inset-top));
    padding-bottom: 14px;
    background: rgba(255,255,255,0.08);
    text-shadow: 0 0 12px rgba(167,225,238,0.6);
    backdrop-filter: blur(4px);
  }
  header h1 { font-size: clamp(1.3rem, 5vw, 1.8rem); line-height: 1.2; }

  main { flex-direction: column; align-items: stretch; height: 100vh; overflow: hidden; }

  .order {
    width: 100% !important; min-width: unset !important; max-width: unset !important;
    flex: 0 0 65vh; overflow-y: auto; border: none; box-shadow: none; background: #fff; color: #000;
  }
  .receipt { margin: 8px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }
  table { font-size: .9rem; }

  .toolbar { flex-wrap: wrap; gap: 1.2rem; padding: 1rem .5rem; background: rgba(250,250,250,0.95); }

  .menu-payment {
    width: 100%; margin: 0; border-radius: 0; border: none; height: auto;
    background: rgba(255,255,255,0.04); padding: .5rem; overflow-y: auto;
  }

  /* Vertical product list */
  #menu {
    flex-direction: column; flex-wrap: nowrap;
    overflow-x: hidden; overflow-y: auto;
    width: 100%; max-width: 100%; gap: .8rem; padding: .5rem;
    scroll-snap-type: none; touch-action: pan-y;
  }
  .menu-item {
    width: 95%; max-width: 480px;
    display: flex; flex-direction: row; align-items: center; justify-content: flex-start;
    background: rgba(255,255,255,0.05); border-radius: 10px; padding: .6rem; gap: .8rem;
    box-shadow: 0 0 6px rgba(167,225,238,0.2);
  }
  .menu-image {
    flex-shrink: 0; width: 90px; height: 90px; object-fit: cover; border-radius: 8px;
    box-shadow: 0 0 5px rgba(167,225,238,0.25);
  }
  .menu-item figcaption { text-align: left; color: #aef0d0; line-height: 1.3; font-size: .9rem; }
  .receipt-footer { display: none !important; }
}

/* Smaller phones */
@media (max-width: 430px) {
  .menu-item { flex-direction: column; align-items: center; text-align: center; }
  .menu-image { width: 80px; height: 80px; margin-bottom: .4rem; }
  .menu-item figcaption { text-align: center; }
}

/* =================== SAFE AREA =================== */
@supports (padding: max(0px)) {
  header { padding-top: max(12px, env(safe-area-inset-top)); }
  body { padding-top: env(safe-area-inset-top); }
}
