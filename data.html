<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">
  <title>Kinaya Rising Dashboard</title>

  <!-- Fonts & Icons -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Audiowide&family=Roboto:wght@300;400;700&display=swap"
    rel="stylesheet"
  />

  <!-- ✅ Session Lock -->
  <script>
    if (sessionStorage.getItem("posUnlocked") !== "true") {
      window.location.href = "index.html";
    }
  </script>

  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      background: #0b0b0b;
      color: #A7E1EE;
      font-family: "Roboto", sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }

    header {
      text-align: center;
      padding: 20px;
      font-family: "Audiowide", sans-serif;
      color: #A7E1EE;
      text-shadow: 0 0 15px #00c6ff;
      font-size: 1.8rem;
      letter-spacing: 1px;
    }

    .dashboard-controls {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .dashboard-controls select, .dashboard-controls input {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(167,225,238,0.3);
      border-radius: 8px;
      color: #A7E1EE;
      padding: 8px 12px;
      font-size: 0.9rem;
      outline: none;
    }

    main.dashboard {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 16px;
      padding: 16px;
    }

    .panel {
      background: rgba(255,255,255,0.03);
      border: 1px solid rgba(167,225,238,0.2);
      border-radius: 12px;
      padding: 16px;
      box-shadow: 0 0 20px rgba(167,225,238,0.08);
    }

    .panel h2 {
      font-family: "Audiowide", sans-serif;
      font-size: 1.1rem;
      margin-bottom: 12px;
      color: #A7E1EE;
      text-shadow: 0 0 10px #00c6ff;
    }

    .panel p {
      margin: 6px 0;
      font-size: 0.95rem;
    }

    .glow-button {
      display: inline-block;
      margin-top: 10px;
      padding: 8px 14px;
      border: 1px solid #00c6ff;
      color: #00c6ff;
      border-radius: 8px;
      text-align: center;
      font-weight: 600;
      cursor: pointer;
      background: transparent;
      transition: all 0.3s ease;
    }

    .glow-button:hover {
      background: #00c6ff;
      color: #0b0b0b;
      box-shadow: 0 0 15px #00c6ff;
    }

    /* Nav bar */
    nav.kinaya-nav {
      display: flex;
      justify-content: space-around;
      background: rgba(255,255,255,0.05);
      padding: 10px 0;
      border-top: 1px solid rgba(167,225,238,0.2);
    }

    nav.kinaya-nav .nav-btn {
      color: #A7E1EE;
      text-decoration: none;
      text-align: center;
      font-size: 0.9rem;
    }

    nav.kinaya-nav .nav-btn.active {
      color: #00c6ff;
      text-shadow: 0 0 10px #00c6ff;
    }
  </style>
</head>

<body>
  <header>Kinaya Rising Dashboard</header>

  <div class="dashboard-controls">
    <select id="view-select">
      <option value="daily">Daily</option>
      <option value="monthly" selected>Monthly</option>
      <option value="quarterly">Quarterly</option>
      <option value="yearly">Yearly</option>
    </select>
    <input type="text" id="date-range" value="Oct 1 – Oct 23" />
    <label style="display:flex;align-items:center;gap:8px;">
      Compare:
      <input type="checkbox" id="compare-toggle" />
    </label>
  </div>

  <main class="dashboard">
    <section class="panel sales-overview">
      <h2>Sales Overview</h2>
      <p>Total Sales: <strong id="total-sales">$0.00</strong></p>
      <p>Avg Transaction: <strong id="avg-transaction">$0.00</strong></p>
      <p>Month-to-Date: <strong id="mtd-sales">$0.00</strong></p>
      <canvas id="sales-chart" height="100"></canvas>
      <button class="glow-button" id="email-sales-report">Email Sales Report</button>
    </section>

    <section class="panel inventory-snapshot">
      <h2>Inventory Snapshot</h2>
      <p>Total SKUs: <strong id="total-skus">0</strong></p>
      <p>Low Stock: <strong id="low-stock">0</strong></p>
      <p>Units Sold: <strong id="units-sold">0</strong></p>
      <button class="glow-button" id="email-restock-list">Email Restock List</button>
    </section>

    <section class="panel accounting-overview">
      <h2>Accounting Overview</h2>
      <p>Gross Revenue: <strong id="gross-revenue">$0.00</strong></p>
      <p>Tax Collected: <strong id="tax-collected">$0.00</strong></p>
      <p>Expenses: <strong id="expenses">$0.00</strong></p>
      <p>Net Profit: <strong id="net-profit">$0.00</strong></p>
      <button class="glow-button" id="email-monthly-report">Email Monthly Report</button>
    </section>
  </main>

  <nav class="kinaya-nav">
    <a href="sale.html" class="nav-btn">
      <i class="fas fa-cash-register"></i><br>Sales
    </a>
    <a href="inventory.html" class="nav-btn">
      <i class="fas fa-boxes"></i><br>Inventory
    </a>
    <a href="data.html" class="nav-btn active">
      <i class="fas fa-chart-line"></i><br>Data
    </a>
  </nav>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // Highlight active nav
    document.addEventListener("DOMContentLoaded", () => {
      const links = document.querySelectorAll(".nav-btn");
      const current = window.location.pathname.split("/").pop();
      links.forEach(link => {
        if (link.getAttribute("href") === current) {
          link.classList.add("active");
        }
      });

      // Example Chart
      const ctx = document.getElementById("sales-chart");
      if (ctx) {
        new Chart(ctx, {
          type: "line",
          data: {
            labels: ["Jan", "Feb", "Mar", "Apr", "May"],
            datasets: [{
              label: "Revenue",
              data: [120, 190, 300, 500, 200],
              borderColor: "#00c6ff",
              tension: 0.3,
              fill: false
            }]
          },
          options: {
            plugins: { legend: { display: false } },
            scales: { x: { ticks: { color: "#A7E1EE" } }, y: { ticks: { color: "#A7E1EE" } } }
          }
        });
      }
    });
  </script>
</body>
</html>
